<div class="card">
  <p-carousel
    [value]="projects()"
    [numVisible]="3"
    [numScroll]="1"
    [circular]="true"
    [responsiveOptions]="responsiveOptions"
    autoplayInterval="5000"> <ng-template let-project #item>
    <div class="border border-surface-200 dark:border-surface-700 rounded-xl m-2 p-4 h-full flex flex-col bg-surface-0 dark:bg-surface-900">

      <div class="mb-4 relative">
        <div class="relative mx-auto overflow-hidden rounded-lg aspect-video">
          <img
            [src]="project.image"
            [alt]="project.name"
            class="w-full h-full object-cover" />

          <p-tag
            [value]="project.status"
            [severity]="getSeverity(project.status)"
            class="absolute top-2 left-2 shadow-md" />
        </div>
      </div>

      <div class="flex flex-col flex-1 gap-3">
        <div class="text-xl font-bold text-surface-900 dark:text-surface-0">
          {{ project.name }}
        </div>

        <p class="text-surface-600 dark:text-surface-400 text-sm leading-relaxed line-clamp-3">
          {{ project.description }}
        </p>

        <div class="flex flex-wrap gap-1 mt-auto pt-2">
          @for (tech of project.technologies; track tech) {
            <span class="text-xs px-2 py-1 rounded bg-surface-100 dark:bg-surface-800 text-surface-600 dark:text-surface-300 font-medium border border-surface-200 dark:border-surface-700">
                {{ tech }}
              </span>
          }
        </div>

        <div class="flex gap-2 mt-4 pt-4 border-t border-surface-200 dark:border-surface-700">
          <a [href]="project.githubUrl" target="_blank" class="flex-1">
            <p-button
              label="Code"
              icon="pi pi-github"
              styleClass="w-full p-button-outlined p-button-secondary" />
          </a>

          @if (project.demoUrl) {
            <a [href]="project.demoUrl" target="_blank" class="flex-1">
              <p-button
                label="Demo"
                icon="pi pi-external-link"
                styleClass="w-full" />
            </a>
          }
        </div>
      </div>

    </div>
  </ng-template>
  </p-carousel>
</div>
